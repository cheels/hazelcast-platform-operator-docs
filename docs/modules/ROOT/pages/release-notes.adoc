= 5.8 Release notes

This release added support for the xref:jet-job-snapshot.adoc[JetJobSnapshot CR], xref:custom-config.adoc[custom configs] using ConfigMap, and xref:serialization-configuration.adoc[serialization] config for the Hazelcast CR. Users can now use user code from URLs and submit the JetJob CR using an existing JAR file for running the Jet job. Additionally, we enhanced TLS support.

== New Features
- Added the JetJobSnapshot CR, which provided a way to export snapshots of JetJob CRs (https://github.com/hazelcast/hazelcast-platform-operator/pull/791[#791])
- EventJournal configuration section is included in both Map and Cache CR (https://github.com/hazelcast/hazelcast-platform-operator/pull/791[#791])
- Added support for custom configs using ConfigMap via the `customConfigCmName` field in the Hazelcast CR (https://github.com/hazelcast/hazelcast-platform-operator/pull/750[#750])
- Added support for serialization config for Hazelcast CR (https://github.com/hazelcast/hazelcast-platform-operator/pull/743[#743])
- The ability to specify the HTTP URLs where the Pipeline JARs are located was added (https://github.com/hazelcast/hazelcast-platform-operator/pull/726[#726])
- The possibility to specify the JAR file to be downloaded in the JetJob CR was added for users (https://github.com/hazelcast/hazelcast-platform-operator/pull/723[#723])
- Implemented the ability for users to deploy JARs and other files into members' CLASSPATH using URLs (https://github.com/hazelcast/hazelcast-platform-operator/pull/699[#699])
- Added the ability to submit the JetJob CR using an existing Jar file for running the Jet job (https://github.com/hazelcast/hazelcast-platform-operator/pull/687[#687])
- The ability to configure `instance` and `edgeDefaults` Jet Configuration parameters was added for users (https://github.com/hazelcast/hazelcast-platform-operator/pull/678[#678])

== Changes
- The implementation of the JetJobSnapshot CR was added to provide the ability to export snapshots of JetJob CRs (https://github.com/hazelcast/hazelcast-platform-operator/pull/751[#751])
- The field `licenseKeySecret` in ManagementCenterSpec was renamed to `licenseKeySecretName` and the field `secret` in HotBackupSpec was renamed to `secretName` (https://github.com/hazelcast/hazelcast-platform-operator/pull/740[#740])
- The fields `licenseKeySecret` and `secret` were renamed to `licenseKeySecretName` and `secretName` respectively (https://github.com/hazelcast/hazelcast-platform-operator/pull/735[#735])
- Hazelcast CR name validation was added to conform to DNS-1035 label (https://github.com/hazelcast/hazelcast-platform-operator/pull/734[#734])
- Persistence for Jobs has been enabled to provide Lossless Restart capability for users (https://github.com/hazelcast/hazelcast-platform-operator/pull/730[#730])
- Support for Hazelcast mTLS client-server communication has been added. Users now have the ability to enforce Hazelcast mutual authentication in TLS using the `tls.mutualAuthentication` property. (https://github.com/hazelcast/hazelcast-platform-operator/pull/722[#722])
- Added support for OpenSSL TLS engine (https://github.com/hazelcast/hazelcast-platform-operator/pull/713[#713])
- Added new field validations for Management Center and Hazelcast CRs (https://github.com/hazelcast/hazelcast-platform-operator/pull/709[#709])
- The separate secret for mTLS has been removed, enabling the utilization of a single secret to store all the required files for the operator and members (https://github.com/hazelcast/hazelcast-platform-operator/pull/696[#696])
- Improved validation logic for multiple errors in the Webhooks and Reconciler (https://github.com/hazelcast/hazelcast-platform-operator/pull/683[#683])

== Fixed Issues
- Jet Job submission and UCD from client/CLC is now possible (https://github.com/hazelcast/hazelcast-platform-operator/pull/794[#794])
- Enhanced JetJob CR state validation to exclusively perform validation when there is a state change in the JetJob CR (https://github.com/hazelcast/hazelcast-platform-operator/pull/793[#793])
- Secret validation of bucket config in JetJob CR was added (https://github.com/hazelcast/hazelcast-platform-operator/pull/787[#787])
- Fix error in Map reconciler when nearCache is configured (https://github.com/hazelcast/hazelcast-platform-operator/pull/786[#786])
- `spec.jet.bucketConfig.secretName` validation was added for users (https://github.com/hazelcast/hazelcast-platform-operator/pull/778[#778])
- Fixed a bug in Map config persistence caused by MapStore (https://github.com/hazelcast/hazelcast-platform-operator/pull/776[#776])
- Validating secretName of bucket config in `Hazelcast.Jet` and `JetJob` CRs added (https://github.com/hazelcast/hazelcast-platform-operator/pull/772[#772])
- When the Hazelcast CR is deleted, its dependent JetJob CRs will be deleted as well (https://github.com/hazelcast/hazelcast-platform-operator/pull/771[#771])
- Added validation for `NativeMemory.AllocatorType` when `Persistence` is enabled (https://github.com/hazelcast/hazelcast-platform-operator/pull/767[#767])
- NativeMemory can now only be used with Hazelcast Enterprise, providing enhanced security and performance (https://github.com/hazelcast/hazelcast-platform-operator/pull/759[#759])
- TLS can now be used exclusively with Hazelcast Enterprise version (https://github.com/hazelcast/hazelcast-platform-operator/pull/756[#756])
- Enforced validation to require a non-empty secretName for TLS configuration (https://github.com/hazelcast/hazelcast-platform-operator/pull/755[#755])
- Fixed a bug that caused Java exceptions when creating a Cache CR with improper `backupCount/asyncBackupCount` values (https://github.com/hazelcast/hazelcast-platform-operator/pull/754[#754])
- Added `backupCount/asyncBackupCount` validation in Queue creation to prevent Java exceptions (https://github.com/hazelcast/hazelcast-platform-operator/pull/753[#753])
- backupCount/asyncBackupCount validation in MultiMap creation was added (https://github.com/hazelcast/hazelcast-platform-operator/pull/752[#752])
- Validation for the sum of backupCount and asyncBackupCount was added for Map CR (https://github.com/hazelcast/hazelcast-platform-operator/pull/749[#749])
- TLS handshake error after redeploying cluster with the same name is fixed (https://github.com/hazelcast/hazelcast-platform-operator/pull/738[#738])
- Converted the Jet config fields with no default value to pointer (https://github.com/hazelcast/hazelcast-platform-operator/pull/731[#731])
- Removed TLS enterprise validation in Webhook (https://github.com/hazelcast/hazelcast-platform-operator/pull/710[#710])